---
title: "Notes on Intro to R assignments"
author: "Daniel Fuller"
date: "08/10/2019"
output: 
  html_document:
    keep_md: true
---



## Notes

### Note 1. 

It's a very good idea to write yourself comments so you can describe what you are trying to do. This will make it easier for you to remember when you come back to code after not having looked at it for a while and it will make it easier for new people understand your code if they have never seen it. 

### Note 2. 

You can include many lines of code in one chunk. You can replace below: 



```r
library(ggplot2)
```

```
## Registered S3 methods overwritten by 'ggplot2':
##   method         from 
##   [.quosures     rlang
##   c.quosures     rlang
##   print.quosures rlang
```

```r
library(car)
```

```
## Loading required package: carData
```

```r
library(haven)
```

```r
library(readxl)
```

with


```r
library(ggplot2)
library(car)
library(haven)
library(readxl)
```

better you can use the `pacman` package to load multiple packages at once. This will install and load (library) the packages in one go. 


```r
## Not Run: install.packages("pacman")
pacman::p_load(ggplot2, car, haven, readxl)
```

### Note 3. 

It's a good idea to load all of the packages you need at the top of your .Rmd file. That way a new user can know which packages they need to install right at the beginning of using your file. You don't need to reload the package with every new code chunk. Just once at the top of the file. 

### Note 4. 

It's a good idea to chose a case style. In general I use `snake_case` but there are lots of [different options](https://en.wikipedia.org/wiki/Camel_case)

### Note 5. 

It's generally not a good idea to call all of the data using `data$variable`. That will just output your entire variable. Our CCHS data has 124 929 rows. Our accelerometer data processing has over 2 million rows. 

### Note 6. 

Avoid long code chunks or code chunks multiple functions or types of operations. These are harder to debug and make it difficult to comment your code appropriately. 

### Note 7. 

Ensure you have proper spacing and indentation for your code chunks. This makes the much more readable. 

Hard to read:

```r
scatter <- ggplot(cchs, aes(x = hwtghtm, y = hwtgwtk)) + geom_point() + xlab("Height in Meters") + ylab("Weight in Kilograms")
```

Easy to read: 

```r
scatter <- ggplot(cchs, aes(x = hwtghtm, y = hwtgwtk)) + 
            geom_point() + 
              xlab("Height in Meters") + 
              ylab("Weight in Kilograms")
```


Hard to read:

```r
cchs <- cchs %>%
mutate(bmi_category = case_when(
bmi < 18.5 ~ "underweight",
bmi >=30 & bmi <999 ~ "obese",
bmi >=25 & bmi <30 ~ "overweight",
bmi >=18.5 & bmi <25 ~ "normal weight",
TRUE ~ "other"))
```

Easy to read: 

```r
cchs <- cchs %>%
          mutate(bmi_category = case_when(
            bmi < 18.5 ~ "underweight",
            bmi >=30 & bmi <999 ~ "obese",
            bmi >=25 & bmi <30 ~ "overweight",
            bmi >=18.5 & bmi <25 ~ "normal weight",
            TRUE ~ "other")
            )
```

### Note 8. 

Please do not include chunk options in your code. For example you can include options like: 

* `include = FALSE` prevents code and results from appearing in the finished file. R Markdown still runs the code in the chunk, and the results can be used by other chunks.
* `echo = FALSE` prevents code, but not the results from appearing in the finished file. This is a useful way to embed figures. 
* `message = FALSE` prevents messages that are generated by code from appearing in the finished file.
* `warning = FALSE` prevents warnings that are generated by code from appearing in the finished.

Please avoid these for the course. Copy pasting code chunks can get you in trouble with this because you will copy the code chunk option without necessarily realising what is happening. 

### Note 9. 

Be organized with spacing and code chunks. Avoid code chunks with lots of extra lines that are not needed. These are not visible the knit pdf, word, or html file but make reading your .Rmd more challenging and can cause errors. 

